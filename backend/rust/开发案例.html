<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>å¼€å‘æ¡ˆä¾‹ | MZ's æŠ€æœ¯æŒ‡å—</title>
    <meta name="description" content="MZçš„æŠ€æœ¯æŒ‡å—, è®°å½•å­¦ä¹ åŠæ—¥å¸¸ä½¿ç”¨">
    <link rel="preload stylesheet" href="/assets/style.52b03b96.css" as="style">
    
    <script type="module" src="/assets/app.c7ccc2ec.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.2ed14f66.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/framework.28451963.js">
    <link rel="modulepreload" href="/assets/chunks/theme.2cf3bf03.js">
    <link rel="modulepreload" href="/assets/backend_rust_å¼€å‘æ¡ˆä¾‹.md.1a65ebf2.lean.js">
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-c6746956><!--[--><!--]--><!--[--><span tabindex="-1" data-v-70eb73e3></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-70eb73e3> Skip to content </a><!--]--><!----><header class="VPNav" data-v-c6746956 data-v-5de1d602><div class="VPNavBar has-sidebar" data-v-5de1d602 data-v-af9ac95e><div class="container" data-v-af9ac95e><div class="title" data-v-af9ac95e><div class="VPNavBarTitle has-sidebar" data-v-af9ac95e data-v-ab859657><a class="title" href="/" data-v-ab859657><!--[--><!--]--><!--[--><img class="VPImage logo" src="/logo.png" alt data-v-1b586486><!--]--><!--[-->MZ&#39;s æŠ€æœ¯æŒ‡å—<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-af9ac95e><div class="curtain" data-v-af9ac95e></div><div class="content-body" data-v-af9ac95e><!--[--><!--]--><div class="VPNavBarSearch search" style="--vp-meta-key:&#39;Meta&#39;;" data-v-af9ac95e><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-af9ac95e data-v-8f5725aa><span id="main-nav-aria-label" class="visually-hidden" data-v-8f5725aa>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/" tabindex="0" data-v-8f5725aa data-v-d8d99116><!--[--><span data-v-d8d99116>é¦–é¡µ</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-8f5725aa data-v-6b143405><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6b143405><span class="text" data-v-6b143405><!----><span data-v-6b143405>AI</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6b143405><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6b143405><div class="VPMenu" data-v-6b143405 data-v-3795249a><div class="items" data-v-3795249a><!--[--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>å…è´¹AIå¹³å°</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/ai/%E5%85%8D%E8%B4%B9%E5%8F%AF%E7%94%A8AI%E5%B7%A5%E5%85%B7" data-v-94ec0290><!--[-->å…è´¹å¯ç”¨AIå·¥å…·<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>AIæœºå™¨å­¦ä¹ </p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/ai/AI%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0" data-v-94ec0290><!--[-->AIæœºå™¨å­¦ä¹ <!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-8f5725aa data-v-6b143405><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6b143405><span class="text" data-v-6b143405><!----><span data-v-6b143405>ç§»åŠ¨ç«¯</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6b143405><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6b143405><div class="VPMenu" data-v-6b143405 data-v-3795249a><div class="items" data-v-3795249a><!--[--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>Objective-C/C++</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/phone/oc/" data-v-94ec0290><!--[-->Objective-C<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>Swift</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/phone/swift/" data-v-94ec0290><!--[-->Swift<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-8f5725aa data-v-6b143405><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6b143405><span class="text" data-v-6b143405><!----><span data-v-6b143405>å‰ç«¯</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6b143405><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6b143405><div class="VPMenu" data-v-6b143405 data-v-3795249a><div class="items" data-v-3795249a><!--[--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>å‰ç«¯åŸºç¡€</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/html/" data-v-94ec0290><!--[-->HTML/HTML5<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/css/" data-v-94ec0290><!--[-->CSS/CSS3<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/script/js/" data-v-94ec0290><!--[-->JavaScript/TypeScript<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>å‰ç«¯æ¡†æ¶</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/vue/vue3/vue3%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86" data-v-94ec0290><!--[-->Vue2/Vue3<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/vue/nuxt/nuxt3%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->Nuxt3<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/react/" data-v-94ec0290><!--[-->React<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/svelte/" data-v-94ec0290><!--[-->Svelte<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/solid/" data-v-94ec0290><!--[-->Solid<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/wechat/" data-v-94ec0290><!--[-->å¾®ä¿¡å°ç¨‹åº<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/harmonyOS/" data-v-94ec0290><!--[-->é¸¿è’™ç³»ç»Ÿ<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>æ‰“åŒ…å·¥å…·</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/bundle/unbuild%E6%89%93%E5%8C%85" data-v-94ec0290><!--[-->unbuild<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/bundle/tsup%E6%89%93%E5%8C%85" data-v-94ec0290><!--[-->tsup<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/f2e/bundle/vite%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->Vite<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-8f5725aa data-v-6b143405><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6b143405><span class="text" data-v-6b143405><!----><span data-v-6b143405>åç«¯</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6b143405><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6b143405><div class="VPMenu" data-v-6b143405 data-v-3795249a><div class="items" data-v-3795249a><!--[--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>NodeJS</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/backend/nodejs/nodejs%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->NodeJS<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/backend/express/express%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->Express<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>Python</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link vp-external-link-icon" href="https://gitee.com/geeksdidi" target="_blank" rel="noreferrer" data-v-94ec0290><!--[-->Python2/Python3<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>Golang</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link vp-external-link-icon" href="https://gitee.com/geeksdidi" target="_blank" rel="noreferrer" data-v-94ec0290><!--[-->Gitee<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>Rust</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/backend/rust/rust%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->Rust<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-8f5725aa data-v-6b143405><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6b143405><span class="text" data-v-6b143405><!----><span data-v-6b143405>äº‘æœåŠ¡</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6b143405><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6b143405><div class="VPMenu" data-v-6b143405 data-v-3795249a><div class="items" data-v-3795249a><!--[--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>äº‘è®¡ç®—</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/serverless/service/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->äº‘è®¡ç®—ç®€ä»‹<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/serverless/service/%E4%BA%91%E5%87%BD%E6%95%B0%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->å…¶ä»–<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>äº‘éƒ¨ç½²</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/serverless/deploy/Vercel%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->Vercel<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/serverless/deploy/cloudflare%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->Cloudflare<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/serverless/deploy/Replit%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->å…¶ä»–<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>æ“ä½œç³»ç»Ÿ|æœåŠ¡å™¨|å®¹å™¨</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/serverless/system/linux%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->Linux<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/serverless/system/nginx%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->Nginx<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-8f5725aa data-v-6b143405><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-6b143405><span class="text" data-v-6b143405><!----><span data-v-6b143405>è½¯ä»¶å·¥å…·</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-6b143405><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-6b143405><div class="VPMenu" data-v-6b143405 data-v-3795249a><div class="items" data-v-3795249a><!--[--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>ç½‘ç«™å¯¼èˆª</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/tool/site/" data-v-94ec0290><!--[-->ç½‘ç«™å¯¼èˆª<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>ç¼–ç¨‹è½¯ä»¶</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/tool/vscode/" data-v-94ec0290><!--[-->VSCode<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-3795249a data-v-f066b2dc><p class="title" data-v-f066b2dc>æ•ˆç‡æå‡</p><!--[--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/tool/efficiency/pnp%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->pnpm<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/tool/efficiency/nvm%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->nvm<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-f066b2dc data-v-94ec0290><a class="VPLink link" href="/tool/efficiency/nrm%E7%AE%80%E4%BB%8B" data-v-94ec0290><!--[-->nrm<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-af9ac95e data-v-7b9909ce><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-7b9909ce data-v-171c4c48 data-v-9b981539><span class="check" data-v-9b981539><span class="icon" data-v-9b981539><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-171c4c48><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-171c4c48><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-af9ac95e data-v-25c50213 data-v-d0e9c8ad><!--[--><a class="VPSocialLink no-icon" href="https://github.com/misterZhouZhou" aria-label="github" target="_blank" rel="noopener" data-v-d0e9c8ad data-v-1ec1e892><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-af9ac95e data-v-e97fd28e data-v-6b143405><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6b143405><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6b143405><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6b143405><div class="VPMenu" data-v-6b143405 data-v-3795249a><!----><!--[--><!--[--><!----><div class="group" data-v-e97fd28e><div class="item appearance" data-v-e97fd28e><p class="label" data-v-e97fd28e>Appearance</p><div class="appearance-action" data-v-e97fd28e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="toggle dark mode" aria-checked="false" data-v-e97fd28e data-v-171c4c48 data-v-9b981539><span class="check" data-v-9b981539><span class="icon" data-v-9b981539><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-171c4c48><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-171c4c48><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-e97fd28e><div class="item social-links" data-v-e97fd28e><div class="VPSocialLinks social-links-list" data-v-e97fd28e data-v-d0e9c8ad><!--[--><a class="VPSocialLink no-icon" href="https://github.com/misterZhouZhou" aria-label="github" target="_blank" rel="noopener" data-v-d0e9c8ad data-v-1ec1e892><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-af9ac95e data-v-241ee4cf><span class="container" data-v-241ee4cf><span class="top" data-v-241ee4cf></span><span class="middle" data-v-241ee4cf></span><span class="bottom" data-v-241ee4cf></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-c6746956 data-v-5a57d31a><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-5a57d31a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-5a57d31a><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-5a57d31a>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-5a57d31a data-v-ad7d5a57><button data-v-ad7d5a57>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-c6746956 data-v-aadd12fc><div class="curtain" data-v-aadd12fc></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-aadd12fc><span class="visually-hidden" id="sidebar-aria-label" data-v-aadd12fc> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-aadd12fc><section class="VPSidebarItem level-0 collapsible has-active" data-v-aadd12fc data-v-d3a879f1><div class="item" role="button" tabindex="0" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><h2 class="text" data-v-d3a879f1>Rust</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d3a879f1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-d3a879f1><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-d3a879f1><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/rust%E7%AE%80%E4%BB%8B" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>1ã€Rustç®€ä»‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/rust%E8%BF%9B%E9%98%B6" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>2ã€Rustè¿›é˜¶</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>3ã€Rustå¼€å‘æ¡ˆä¾‹</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>4ã€Rustå®ç”¨å·¥å…·</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/%E5%B8%B8%E7%94%A8%E4%B8%89%E6%96%B9%E5%BA%93" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>5ã€å¸¸ç”¨ä¸‰æ–¹åº“</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/%E5%BC%80%E5%8F%91%E6%8A%80%E5%B7%A7%E5%8F%8A%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>6ã€å¼€å‘æŠ€å·§åŠæ³¨æ„äº‹é¡¹</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-aadd12fc><section class="VPSidebarItem level-0 collapsible" data-v-aadd12fc data-v-d3a879f1><div class="item" role="button" tabindex="0" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><h2 class="text" data-v-d3a879f1>Rustæ¡†æ¶</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d3a879f1><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-d3a879f1><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-d3a879f1><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/tauri%E6%A1%8C%E9%9D%A2%E7%AB%AF%E5%BA%94%E7%94%A8" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>1ã€Tauriæ¡Œé¢ç«¯åº”ç”¨</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/actix-web" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>2ã€webæ¡†æ¶actix-web</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/web%E6%A1%86%E6%9E%B6rocket" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>3ã€webæ¡†æ¶rocket</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/web%E6%A1%86%E6%9E%B6warp" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>4ã€webæ¡†æ¶warp</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/web%E6%A1%86%E6%9E%B6axum" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>5ã€webæ¡†æ¶axum</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/%E8%B7%A8%E5%B9%B3%E5%8F%B0%E6%A1%86%E6%9E%B6Dioxus" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>6ã€è·¨å¹³å°æ¡†æ¶Dioxus</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/bracket-lib" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>7ã€æ¸¸æˆæ¡†æ¶bracket-lib</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d3a879f1 data-v-d3a879f1><div class="item" data-v-d3a879f1><div class="indicator" data-v-d3a879f1></div><a class="VPLink link link" href="/backend/rust/webAssembly%E7%AE%80%E4%BB%8B" data-v-d3a879f1><!--[--><p class="text" data-v-d3a879f1>8ã€wasmæ¡†æ¶</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-c6746956 data-v-b368e0f1><div class="VPDoc has-sidebar has-aside" data-v-b368e0f1 data-v-42804bdd><!--[--><!--]--><div class="container" data-v-42804bdd><div class="aside" data-v-42804bdd><div class="aside-curtain" data-v-42804bdd></div><div class="aside-container" data-v-42804bdd><div class="aside-content" data-v-42804bdd><div class="VPDocAside" data-v-42804bdd data-v-a99f0056><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-a99f0056 data-v-82b0686e><div class="content" data-v-82b0686e><div class="outline-marker" data-v-82b0686e></div><div class="outline-title" data-v-82b0686e>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-82b0686e><span class="visually-hidden" id="doc-outline-aria-label" data-v-82b0686e> Table of Contents for current page </span><ul class="root" data-v-82b0686e data-v-6fa36fb1><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-a99f0056></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-42804bdd><div class="content-container" data-v-42804bdd><!--[--><!--]--><!----><main class="main" data-v-42804bdd><div style="position:relative;" class="vp-doc _backend_rust_%E5%BC%80%E5%8F%91%E6%A1%88%E4%BE%8B" data-v-42804bdd><div><h1 id="å¼€å‘æ¡ˆä¾‹" tabindex="-1">å¼€å‘æ¡ˆä¾‹ <a class="header-anchor" href="#å¼€å‘æ¡ˆä¾‹" aria-label="Permalink to &quot;å¼€å‘æ¡ˆä¾‹&quot;">â€‹</a></h1><h2 id="_1ã€toto-cli" tabindex="-1">1ã€toto cli <a class="header-anchor" href="#_1ã€toto-cli" aria-label="Permalink to &quot;1ã€toto cli&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">ä¸‰æ–¹åº“</p><ul><li>clap: å‘½ä»¤è¡Œè§£æ</li><li>dirs: è·å–ç”¨æˆ·ç›®å½•</li></ul></div><h3 id="_1-1ã€å®‰è£…ä¾èµ–" tabindex="-1">1.1ã€å®‰è£…ä¾èµ– <a class="header-anchor" href="#_1-1ã€å®‰è£…ä¾èµ–" aria-label="Permalink to &quot;1.1ã€å®‰è£…ä¾èµ–&quot;">â€‹</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">cargo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clap</span></span>
<span class="line"><span style="color:#FFCB6B;">cargo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">dirs</span></span></code></pre></div><h3 id="_1-2ã€cli-rs" tabindex="-1">1.2ã€cli.rs <a class="header-anchor" href="#_1-2ã€cli-rs" aria-label="Permalink to &quot;1.2ã€cli.rs&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">clap</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">Parser</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Subcommand</span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">derive</span><span style="color:#A6ACCD;">(Parser)]</span></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">clap</span><span style="color:#A6ACCD;">(version</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> about)]</span></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">clap</span><span style="color:#A6ACCD;">(propagate_version </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"><span style="color:#A6ACCD;">pub struct Cli </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    #[</span><span style="color:#82AAFF;">clap</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">subcommand</span><span style="color:#F07178;">)]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">command</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Commands</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">derive</span><span style="color:#A6ACCD;">(Debug</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Subcommand)]</span></span>
<span class="line"><span style="color:#A6ACCD;">pub </span><span style="color:#C792EA;">enum</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Commands</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    #[</span><span style="color:#82AAFF;">clap</span><span style="color:#A6ACCD;">(about </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Show odo info.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"><span style="color:#A6ACCD;">    Info</span><span style="color:#89DDFF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    #[</span><span style="color:#82AAFF;">clap</span><span style="color:#A6ACCD;">(about </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Add a todo item.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"><span style="color:#A6ACCD;">    Add {</span></span>
<span class="line"><span style="color:#A6ACCD;">        #[</span><span style="color:#82AAFF;">clap</span><span style="color:#A6ACCD;">(help </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">The item content to add.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"><span style="color:#A6ACCD;">        content: Option&lt;String&gt;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    #[</span><span style="color:#82AAFF;">clap</span><span style="color:#A6ACCD;">(about </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Remove a todo item.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"><span style="color:#A6ACCD;">    #[</span><span style="color:#82AAFF;">clap</span><span style="color:#A6ACCD;">(visible_aliases </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">rm</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">])]</span></span>
<span class="line"><span style="color:#A6ACCD;">    Remove </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        #[</span><span style="color:#82AAFF;">clap</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">help</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">The item id to remove.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)]</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Option</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">&gt;,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    #[</span><span style="color:#82AAFF;">clap</span><span style="color:#A6ACCD;">(about </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">List all the todo items.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)]</span></span>
<span class="line"><span style="color:#A6ACCD;">    #[</span><span style="color:#82AAFF;">clap</span><span style="color:#A6ACCD;">(visible_aliases </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ls</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ll</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">la</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">])]</span></span>
<span class="line"><span style="color:#A6ACCD;">    List</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h3 id="_1-3ã€commands-rs" tabindex="-1">1.3ã€commands.rs <a class="header-anchor" href="#_1-3ã€commands-rs" aria-label="Permalink to &quot;1.3ã€commands.rs&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:io</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">crate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#FFCB6B;">database</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">Database</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Record</span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pub fn </span><span style="color:#82AAFF;">info</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">io</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:Error</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    println!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">Todo is a simple todo list manager.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">    Ok(())</span></span>
<span class="line"><span style="color:#F07178;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">pub fn add(db</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut Database</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> Option</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">io</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:Error</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    if let </span><span style="color:#F07178;">Some</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">content</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> = content </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">records</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read_records</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add_record</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">Record</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">records</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">len</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">u32</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">+</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            content</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">clone</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">?</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">!</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ğŸ“ Item added: {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">content</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">Ok</span><span style="color:#F07178;">(())</span></span>
<span class="line"><span style="color:#F07178;">    } </span><span style="color:#A6ACCD;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        eprintln!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">You need to specify the content of the todo item.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">        std</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#A6ACCD;">process</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">exit</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">remove</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">db</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Database</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Option</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">io</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#A6ACCD;">Error</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    if id.is_none() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">!</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">You need to specify the id of the todo item.</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#FFCB6B;">process</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#82AAFF;">exit</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    println!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">Removing a todo item: {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> id.clone().unwrap());</span></span>
<span class="line"><span style="color:#F07178;">    db.remove_record(id.unwrap().parse</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">u32</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">().unwrap())?;</span></span>
<span class="line"><span style="color:#A6ACCD;">    println!(&quot; âŒ Item removed!\n&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">    Ok(())</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pub fn list(db: &amp;mut Database) -&gt; Result&lt;(), io::Error&gt; </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    let records </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">read_records</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    if records</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">is_empty</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        eprintln!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">No records. You can add one with `todo add [content]`</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">        std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:process::</span><span style="color:#82AAFF;">exit</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    for record </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> records </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        println!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> â¬œï¸ {}: {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> record.id</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> record.content);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">Ok</span><span style="color:#A6ACCD;">(())</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="_1-4ã€database-rs" tabindex="-1">1.4ã€database.rs <a class="header-anchor" href="#_1-4ã€database-rs" aria-label="Permalink to &quot;1.4ã€database.rs&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#FFCB6B;">fs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">File</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> OpenOptions</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#FFCB6B;">io</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> BufRead</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> BufReader</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Seek</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Write</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">crate</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#FFCB6B;">utils</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">check_db_file</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> get_db_file_path</span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pub struct Record </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">u32</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">content</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pub struct Database </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">file</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">File</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è§£æè®°å½•</span></span>
<span class="line"><span style="color:#A6ACCD;">pub fn </span><span style="color:#82AAFF;">parse_record_line</span><span style="color:#A6ACCD;">(line: </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">str) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> Record </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fields</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Vec</span><span style="color:#89DDFF;">&lt;&amp;</span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">line</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">split</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">collect</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// å¤„ç†ç©ºè¡Œçš„æƒ…å†µ</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fields</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">len</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">==</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Record</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            content</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;&quot;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">to_string</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">content</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fields</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1.</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">Record</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">id</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fields</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">parse</span><span style="color:#F07178;">::</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">u32</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">().unwrap(),</span></span>
<span class="line"><span style="color:#A6ACCD;">        content,</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">impl Database </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    pub fn </span><span style="color:#82AAFF;">open</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> Database </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// å…ˆæ£€æŸ¥ db æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å°±åˆ›å»º</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">check_db_file</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">.</span><span style="color:#F07178;">unwrap</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// è·å–dbæ–‡ä»¶è·¯å¾„</span></span>
<span class="line"><span style="color:#A6ACCD;">        let db_file </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_db_file_path</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        let file </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> OpenOptions::</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">            .create(true)</span></span>
<span class="line"><span style="color:#A6ACCD;">            .read(true)</span></span>
<span class="line"><span style="color:#A6ACCD;">            .write(true)</span></span>
<span class="line"><span style="color:#A6ACCD;">            .open(db_file)</span></span>
<span class="line"><span style="color:#A6ACCD;">            .unwrap();</span></span>
<span class="line"><span style="color:#A6ACCD;">        Database </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">file</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    pub fn </span><span style="color:#82AAFF;">add_record</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> record: </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">Record) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> io::Error</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        let line </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">format</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{},{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> record</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">id</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> record</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">content);</span></span>
<span class="line"><span style="color:#A6ACCD;">        writeln!(self.file</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> line)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    pub fn </span><span style="color:#82AAFF;">read_records</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut self) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> Vec</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Record</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        let reader </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> BufReader::</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">file);</span></span>
<span class="line"><span style="color:#A6ACCD;">        reader</span></span>
<span class="line"><span style="color:#A6ACCD;">            .lines()</span></span>
<span class="line"><span style="color:#A6ACCD;">            .map_while(</span><span style="color:#F07178;">Result</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:ok)</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">filter</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">line</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">line</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">is_empty</span><span style="color:#A6ACCD;">())</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">line</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">parse_record_line</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">line))</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">collect</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    pub fn </span><span style="color:#82AAFF;">remove_record</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> id: u32) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> io::Error</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        let reader </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> BufReader::</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">file);</span></span>
<span class="line"><span style="color:#A6ACCD;">        let mut lines </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> reader</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">lines</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">enumerate</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;font-style:italic;">// æ ¹æ®idæ‰¾å‡ºå¯¹åº”çš„è¡Œ</span></span>
<span class="line"><span style="color:#A6ACCD;">        let line </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> lines</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">(_</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> line)</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            let record </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">parse_record_line</span><span style="color:#A6ACCD;">(line</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">as_ref</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unwrap</span><span style="color:#A6ACCD;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">            record.id </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> id</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        match line </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">Some</span><span style="color:#F07178;">((</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_</span><span style="color:#F07178;">)) </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">                </span><span style="color:#676E95;font-style:italic;">// è¿‡æ»¤æ‰å¯¹åº”çš„è¡Œï¼Œè¿™é‡Œä½¿ç”¨çš„å¯¹åº” api å¯ä»¥æŸ¥çœ‹ Rust æ ‡å‡†åº“</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">new_contents</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">lines</span></span>
<span class="line"><span style="color:#F07178;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">filter</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">|</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">j</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">_</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">j</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">i</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">|</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">_</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">line</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">line</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unwrap</span><span style="color:#F07178;">())</span></span>
<span class="line"><span style="color:#F07178;">                    </span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">collect</span><span style="color:#F07178;">::</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Vec</span><span style="color:#89DDFF;">&lt;_&gt;&gt;</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">                    .join(&quot;\n&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">                // è¿™é‡Œä½¿ç”¨äº† std::io::Seekï¼Œéœ€è¦å¯¼å…¥</span></span>
<span class="line"><span style="color:#A6ACCD;">                self.file.seek(std::io::SeekFrom::Start(0)).unwrap();</span></span>
<span class="line"><span style="color:#A6ACCD;">                self.file.write_all(new_contents.as_bytes()).unwrap();</span></span>
<span class="line"><span style="color:#A6ACCD;">                self.file.set_len(new_contents.len() as u64).unwrap();</span></span>
<span class="line"><span style="color:#A6ACCD;">                // println!(&quot; âŒ Item removed!\n&quot;);</span></span>
<span class="line"><span style="color:#A6ACCD;">                Ok(())</span></span>
<span class="line"><span style="color:#A6ACCD;">            }</span></span>
<span class="line"><span style="color:#A6ACCD;">            None =&gt; Err(io::Error::new(</span></span>
<span class="line"><span style="color:#A6ACCD;">              io::ErrorKind::Other,</span></span>
<span class="line"><span style="color:#A6ACCD;">              format!(&quot;No such record: </span><span style="color:#89DDFF;">{}</span><span style="color:#A6ACCD;">&quot;, id),</span></span>
<span class="line"><span style="color:#A6ACCD;">          )),</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h3 id="_1-5ã€utils-rs" tabindex="-1">1.5ã€utils.rs <a class="header-anchor" href="#_1-5ã€utils-rs" aria-label="Permalink to &quot;1.5ã€utils.rs&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fs</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> io</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">dirs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:home_dir</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pub </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> DB_FILE</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#FFCB6B;">str</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">.todo_db</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// è·å–dbæ–‡ä»¶è·¯å¾„</span></span>
<span class="line"><span style="color:#A6ACCD;">pub fn </span><span style="color:#82AAFF;">get_db_file_path</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:PathBuf </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">home_dir</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">it</span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">it</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">join</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">DB_FILE</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unwrap_or_default</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ£€æŸ¥dbæ–‡ä»¶æ˜¯å¦å­˜åœ¨</span></span>
<span class="line"><span style="color:#A6ACCD;">pub fn </span><span style="color:#82AAFF;">db_exists</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> bool </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">dir</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">get_db_file_path</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">fs</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#82AAFF;">metadata</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">dir</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">is_ok</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åˆ›å»ºdb</span></span>
<span class="line"><span style="color:#A6ACCD;">pub fn </span><span style="color:#82AAFF;">create_db_file</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">io</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  let dir </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get_db_file_path</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">fs</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:File::</span><span style="color:#82AAFF;">create</span><span style="color:#A6ACCD;">(dir)</span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">Ok</span><span style="color:#A6ACCD;">(())</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// æ£€æŸ¥dbæ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼Œä¸å­˜åœ¨å°±åˆ›å»º</span></span>
<span class="line"><span style="color:#A6ACCD;">pub fn </span><span style="color:#82AAFF;">check_db_file</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> io</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  if !</span><span style="color:#F07178;">db_exists</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">create_db_file</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">?</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">  }</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">Ok</span><span style="color:#F07178;">(())</span></span>
<span class="line"><span style="color:#F07178;">}</span></span></code></pre></div><h3 id="_1-6ã€main-rs" tabindex="-1">1.6ã€main.rs <a class="header-anchor" href="#_1-6ã€main-rs" aria-label="Permalink to &quot;1.6ã€main.rs&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">mod cli</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">mod commands</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">mod database</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">mod utils</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">clap</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:Parser</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">cli</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">Cli</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Commands</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">database</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:Database</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// cargo run add -h</span></span>
<span class="line"><span style="color:#A6ACCD;">fn </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Cli</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">parse</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> db </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Database</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">open</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// åŒ¹é…å‘½ä»¤</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">match</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">command</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        Commands</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#A6ACCD;font-style:italic;">Info</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">commands</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">info</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        Commands</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#A6ACCD;">Add</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">content</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">commands</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">add</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">db</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">content</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        Commands</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#A6ACCD;">Remove</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">commands</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">remove</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">db</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">id</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        Commands</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#A6ACCD;font-style:italic;">List</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">commands</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">list</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">db</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;">// ç»Ÿä¸€å¤„ç†é”™è¯¯</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Err</span><span style="color:#F07178;">(err) </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        eprintln!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\x1b</span><span style="color:#F07178;">[31merror:</span><span style="color:#A6ACCD;">\x1b</span><span style="color:#F07178;">[39m {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> err);</span></span>
<span class="line"><span style="color:#F07178;">        std</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#A6ACCD;">process</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">exit</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="_1-7ã€å®‰è£…ä½¿ç”¨" tabindex="-1">1.7ã€å®‰è£…ä½¿ç”¨ <a class="header-anchor" href="#_1-7ã€å®‰è£…ä½¿ç”¨" aria-label="Permalink to &quot;1.7ã€å®‰è£…ä½¿ç”¨&quot;">â€‹</a></h3><p>å®‰è£…</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">cargo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span></code></pre></div><p>ä½¿ç”¨</p><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">todo-list</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-h</span></span></code></pre></div><h2 id="_2ã€grep-from-file" tabindex="-1">2ã€grep from file <a class="header-anchor" href="#_2ã€grep-from-file" aria-label="Permalink to &quot;2ã€grep from file&quot;">â€‹</a></h2><h3 id="_2-1ã€lib-rs" tabindex="-1">2.1ã€lib.rs <a class="header-anchor" href="#_2-1ã€lib-rs" aria-label="Permalink to &quot;2.1ã€lib.rs&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> error</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> fs</span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">derive</span><span style="color:#A6ACCD;">(Debug)]</span></span>
<span class="line"><span style="color:#A6ACCD;">pub struct Config </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">query</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æŸ¥è¯¢å…³é”®è¯</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">filename</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æ–‡ä»¶å</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">case_sensitive</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">bool</span><span style="color:#F07178;"> </span><span style="color:#676E95;font-style:italic;">// æ˜¯å¦åŒºåˆ†å¤§å°å†™ï¼Œé»˜è®¤åŒºåˆ†</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">impl Config </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new(</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#F07178;">[</span><span style="color:#FFCB6B;">String</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> -&gt; Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Config</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">static str&gt; {</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">if</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">args</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">len</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">3</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">return</span><span style="color:#F07178;"> Err</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">not enough arguments</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">query</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">args</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">].</span><span style="color:#FFCB6B;">clone</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">filename</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">args</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">].</span><span style="color:#FFCB6B;">clone</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">case_sensitive</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">env</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">var</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CASE_INSENSITIVE</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">).</span><span style="color:#FFCB6B;">is_err</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">Ok</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">Config</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> query</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> filename</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> case_sensitive </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    }</span></span>
<span class="line"><span style="color:#F07178;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">pub</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">fn</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">run</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">config</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Config</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> -</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Result</span><span style="color:#89DDFF;">&lt;(),</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">dyn</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">error</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Error</span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> contents </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fs</span><span style="color:#F07178;">::read_to_string(</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">filename</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">?</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">if</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">case_sensitive</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> search(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">contents</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> search_case_insensitive(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">contents</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">for</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">line</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        println!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> line);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    Ok(())</span></span>
<span class="line"><span style="color:#F07178;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// åŒºåˆ†å¤§å°å†™</span></span>
<span class="line"><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">search</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a&gt;(query: &amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">contents</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a str) -&gt; Vec&lt;&amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    let mut </span><span style="color:#A6ACCD;">results</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Vec</span><span style="color:#F07178;">::</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">();</span></span>
<span class="line"><span style="color:#F07178;">    for line in contents.lines() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">line</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">contains(</span><span style="color:#A6ACCD;">query</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">results</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">push(</span><span style="color:#A6ACCD;">line</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">results</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// å¿½ç•¥å¤§å°å†™</span></span>
<span class="line"><span style="color:#FFCB6B;">pub</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">fn</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">search_case_insensitive</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a&gt;(query: &amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#FFCB6B;">a</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">contents</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a str) -&gt; Vec&lt;&amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#FFCB6B;">a</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">str</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">mut</span><span style="color:#F07178;"> results </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Vec</span><span style="color:#F07178;">::</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> query </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">query</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">to_lowercase()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">for</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">line</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">in</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">contents</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">lines</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#FFCB6B;">if</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">line</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">to_lowercase</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;">.</span><span style="color:#FFCB6B;">contains</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#FFCB6B;">query</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#FFCB6B;">results</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">push</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">line</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">  results</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="_2-2ã€main-rs" tabindex="-1">2.2ã€main.rs <a class="header-anchor" href="#_2-2ã€main-rs" aria-label="Permalink to &quot;2.2ã€main.rs&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> process</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">grep_cli</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> run</span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Vec</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">env</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">args</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">collect</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">config</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Config</span><span style="color:#F07178;">::</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unwrap_or_else</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">err</span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        eprintln!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">Problem parsing arguments: {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> err);</span></span>
<span class="line"><span style="color:#F07178;">        process</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#82AAFF;">exit</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Err</span><span style="color:#F07178;">(e) </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">run</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">config</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      eprintln!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">Application error: {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> e);</span></span>
<span class="line"><span style="color:#F07178;">      process</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#82AAFF;">exit</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="_3ã€cacher-ç¼“å­˜-æœ‰é—®é¢˜" tabindex="-1">3ã€CaCher(ç¼“å­˜, æœ‰é—®é¢˜) <a class="header-anchor" href="#_3ã€cacher-ç¼“å­˜-æœ‰é—®é¢˜" aria-label="Permalink to &quot;3ã€CaCher(ç¼“å­˜, æœ‰é—®é¢˜)&quot;">â€‹</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">struct CaCher</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">T</span><span style="color:#89DDFF;">,&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">where</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Fn</span><span style="color:#A6ACCD;">(u32) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> u32</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">cb</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">T</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">value</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Option</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">u32</span><span style="color:#89DDFF;">&gt;,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">impl</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">T</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> CaCher</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">T</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">where</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Fn</span><span style="color:#A6ACCD;">(u32) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> u32</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new(</span><span style="color:#A6ACCD;font-style:italic;">cb</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> -&gt; Self </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        Self </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">cb</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">value</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">None</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">value</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arg</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">u32</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">u32</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">match</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#82AAFF;">Some</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">v</span><span style="color:#F07178;">) </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;font-style:italic;">None</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">v</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">cb</span><span style="color:#F07178;">)(</span><span style="color:#A6ACCD;">arg</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Some</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">v</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#A6ACCD;">v</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> cacher </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">CaCher</span><span style="color:#F07178;">::</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">num</span><span style="color:#89DDFF;">|</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    num + </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cacher</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">value</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">cacher</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">value</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">!</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{}-{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">result2</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="_4ã€åšå®¢å‘å¸ƒ" tabindex="-1">4ã€åšå®¢å‘å¸ƒ <a class="header-anchor" href="#_4ã€åšå®¢å‘å¸ƒ" aria-label="Permalink to &quot;4ã€åšå®¢å‘å¸ƒ&quot;">â€‹</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">pub struct Post </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">state</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Option</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dyn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">State</span><span style="color:#89DDFF;">&gt;&gt;,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">content</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">impl Post </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Post</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">Post</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">state</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Some</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Box</span><span style="color:#F07178;">::</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Draft</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#F07178;">))</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">content</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">add_text</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">text</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push_str</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">text</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">content</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">str</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">as_ref</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unwrap</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">content</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">request_review</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Some</span><span style="color:#F07178;">(s) </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">take</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            self.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Some</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">request_review</span><span style="color:#F07178;">())</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">pub</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">approve</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Some</span><span style="color:#F07178;">(s) </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">state</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">take</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            self.</span><span style="color:#A6ACCD;">state</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Some</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">s</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">approve</span><span style="color:#F07178;">())</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">trait State </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">request_review</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Self</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dyn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">State</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">approve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Self</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dyn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">State</span><span style="color:#89DDFF;">&gt;;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a&gt;(&amp;self, post: &amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Post</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a str {</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">struct Draft </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">impl State for Draft </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">request_review</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Self</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dyn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">State</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        Box</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">PendingReview</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">approve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Self</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dyn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">State</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">self</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">struct PendingReview </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">impl State for PendingReview </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">request_review</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Self</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dyn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">State</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">self</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">approve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Self</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dyn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">State</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        Box</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Published</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">struct Published </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">impl State for Published </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">request_review</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Self</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dyn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">State</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">self</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">approve</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">self</span><span style="color:#F07178;">: </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Self</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Box</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dyn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">State</span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">self</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">&lt;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a&gt;(&amp;self, post: &amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">a</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Post</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a str {</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">post</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">content</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">pub fn </span><span style="color:#82AAFF;">generate_post</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> Post </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">Post</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">new</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">cfg</span><span style="color:#A6ACCD;">(test)]</span></span>
<span class="line"><span style="color:#A6ACCD;">mod tests </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">use</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">super</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;">:</span><span style="color:#89DDFF;">*;</span></span>
<span class="line"><span style="color:#F07178;">    #[</span><span style="color:#A6ACCD;">test</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">post</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> post </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">generate_post</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">post</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">add_text</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">I ate a salad for lunch today</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">post</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">request_review</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#A6ACCD;">post</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">approve</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#82AAFF;">assert_eq</span><span style="color:#89DDFF;">!</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">I ate a salad for lunch today</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">post</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">content</span><span style="color:#F07178;">())</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="_5ã€è¿›åº¦æ¡" tabindex="-1">5ã€è¿›åº¦æ¡ <a class="header-anchor" href="#_5ã€è¿›åº¦æ¡" aria-label="Permalink to &quot;5ã€è¿›åº¦æ¡&quot;">â€‹</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#FFCB6B;">io</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">stdout</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Result</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Write</span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#FFCB6B;">time</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:Duration</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#FFCB6B;">thread</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:sleep</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    const </span><span style="color:#F07178;">BAR_LAB</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">str </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;">\\</span><span style="color:#C3E88D;">|/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    for per </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0..101</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            print!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">\r</span><span style="color:#F07178;"> {} </span><span style="color:#A6ACCD;">\u{1b}</span><span style="color:#F07178;">[42m{}</span><span style="color:#A6ACCD;">\u{1b}</span><span style="color:#F07178;">[0m [ {}% ] </span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">            BAR_LAB.chars().nth(per % </span><span style="color:#F78C6C;">4</span><span style="color:#F07178;">).unwrap</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">.repeat(per / 2), </span></span>
<span class="line"><span style="color:#F07178;">            per</span></span>
<span class="line"><span style="color:#F07178;">        );</span></span>
<span class="line"><span style="color:#F07178;">        stdout().flush()?;</span></span>
<span class="line"><span style="color:#F07178;">        sleep(Duration</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#82AAFF;">from_micros</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">60_000</span><span style="color:#A6ACCD;">));</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">Ok</span><span style="color:#A6ACCD;">(())</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="_6ã€è½¬json" tabindex="-1">6ã€è½¬json <a class="header-anchor" href="#_6ã€è½¬json" aria-label="Permalink to &quot;6ã€è½¬json&quot;">â€‹</a></h2><h3 id="_6-1ã€å­—ç¬¦ä¸²è½¬json" tabindex="-1">6.1ã€å­—ç¬¦ä¸²è½¬json <a class="header-anchor" href="#_6-1ã€å­—ç¬¦ä¸²è½¬json" aria-label="Permalink to &quot;6.1ã€å­—ç¬¦ä¸²è½¬json&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">serde_json</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:Value</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">json</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r</span><span style="color:#F07178;">#</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">    {</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">article</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">how to work with json in Rust</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tdep</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">paragraph</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: [</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">untyped</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">strongly typed</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">writing json</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      ]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> parsed</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Value</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> serde_json::</span><span style="color:#82AAFF;">from_str</span><span style="color:#A6ACCD;">(json)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unwrap</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{}-{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsed</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsed[</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">article</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">])</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h3 id="_6-2ã€å­—ç¬¦ä¸²è½¬ç»“æ„ä½“" tabindex="-1">6.2ã€å­—ç¬¦ä¸²è½¬ç»“æ„ä½“ <a class="header-anchor" href="#_6-2ã€å­—ç¬¦ä¸²è½¬ç»“æ„ä½“" aria-label="Permalink to &quot;6.2ã€å­—ç¬¦ä¸²è½¬ç»“æ„ä½“&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">serde</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">Serialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Deserialize</span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">derive</span><span style="color:#A6ACCD;">(Serialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Deserialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Debug)]</span></span>
<span class="line"><span style="color:#A6ACCD;">struct Paragraph </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">derive</span><span style="color:#A6ACCD;">(Serialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Deserialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Debug)]</span></span>
<span class="line"><span style="color:#A6ACCD;">struct Article </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">article</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">author</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">paragraph</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Vec</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Paragraph</span><span style="color:#89DDFF;">&gt;,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">json</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">r</span><span style="color:#F07178;">#</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#C3E88D;">    {</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">article</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">how to work with json in Rust</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">author</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">tdep</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">paragraph</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">: [</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">untyped</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">strongly typed</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">          </span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">writing json</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">      ]</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">#;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">let</span><span style="color:#A6ACCD;"> parsed</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Article</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> serde_json::</span><span style="color:#82AAFF;">from_str</span><span style="color:#A6ACCD;">(json)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unwrap</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{:?}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> parsed)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h3 id="_6-3ã€ç»“æ„ä½“è½¬å­—ç¬¦ä¸²" tabindex="-1">6.3ã€ç»“æ„ä½“è½¬å­—ç¬¦ä¸² <a class="header-anchor" href="#_6-3ã€ç»“æ„ä½“è½¬å­—ç¬¦ä¸²" aria-label="Permalink to &quot;6.3ã€ç»“æ„ä½“è½¬å­—ç¬¦ä¸²&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">serde</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">Deserialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Serialize</span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">derive</span><span style="color:#A6ACCD;">(Serialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Deserialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Debug)]</span></span>
<span class="line"><span style="color:#A6ACCD;">struct Paragraph </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">derive</span><span style="color:#A6ACCD;">(Serialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Deserialize</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Debug)]</span></span>
<span class="line"><span style="color:#A6ACCD;">struct Article </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">article</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">author</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#FFCB6B;">paragraph</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Vec</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">Paragraph</span><span style="color:#89DDFF;">&gt;,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn </span><span style="color:#82AAFF;">main</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">article</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Article</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">Article</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        article</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">from</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">article name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        author</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">from</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">author name</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">        paragraph</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">vec</span><span style="color:#89DDFF;">!</span><span style="color:#F07178;">[</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">Paragraph</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">from</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">paragraph 1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">Paragraph</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                name</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">from</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">paragraph 2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        ]</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">json</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">serde_json</span><span style="color:#F07178;">::</span><span style="color:#82AAFF;">to_string</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">article</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">unwrap</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">!</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">json</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="_7ã€æ³›å‹" tabindex="-1">7ã€æ³›å‹ <a class="header-anchor" href="#_7ã€æ³›å‹" aria-label="Permalink to &quot;7ã€æ³›å‹&quot;">â€‹</a></h2><h3 id="_7-1ã€æœ€å¤§å€¼æ³›å‹" tabindex="-1">7.1ã€æœ€å¤§å€¼æ³›å‹ <a class="header-anchor" href="#_7-1ã€æœ€å¤§å€¼æ³›å‹" aria-label="Permalink to &quot;7.1ã€æœ€å¤§å€¼æ³›å‹&quot;">â€‹</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">fn </span><span style="color:#82AAFF;">largest_number</span><span style="color:#A6ACCD;">(arr: </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">[i32]) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> i32 </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> largest </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">for</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1.</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">len</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">largest</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">largest</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">largest</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn </span><span style="color:#82AAFF;">largest_char</span><span style="color:#A6ACCD;">(arr: </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">[char]) </span><span style="color:#89DDFF;">-&gt;</span><span style="color:#A6ACCD;"> char </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> largest </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">for</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1.</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">len</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">largest</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">largest</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">largest</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn largest</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">cmp</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">PartialOrd</span><span style="color:#A6ACCD;"> + </span><span style="color:#FFCB6B;">Copy</span><span style="color:#89DDFF;">&gt;(</span><span style="color:#A6ACCD;font-style:italic;">arr</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">[</span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> -&gt; T </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#C792EA;">let</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">mut</span><span style="color:#F07178;"> largest </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">for</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">in</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">1.</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">arr</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">len</span><span style="color:#F07178;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">] </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">largest</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#A6ACCD;">largest</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">arr</span><span style="color:#F07178;">[</span><span style="color:#A6ACCD;">index</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">largest</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h3 id="_7-2ã€å†’æ³¡" tabindex="-1">7.2ã€å†’æ³¡ <a class="header-anchor" href="#_7-2ã€å†’æ³¡" aria-label="Permalink to &quot;7.2ã€å†’æ³¡&quot;">â€‹</a></h3><h2 id="_8ã€ç«¯å£å—…æ¢å™¨" tabindex="-1">8ã€ç«¯å£å—…æ¢å™¨ <a class="header-anchor" href="#_8ã€ç«¯å£å—…æ¢å™¨" aria-label="Permalink to &quot;8ã€ç«¯å£å—…æ¢å™¨&quot;">â€‹</a></h2><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">use </span><span style="color:#FFCB6B;">std</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">env</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">net</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">IpAddr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> TcpStream</span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">str</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:FromStr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> process</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> thread</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">sync</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:mpsc::Sender</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">io</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">self</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> Write</span><span style="color:#89DDFF;">}};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> MAX_PORT</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">u16</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">65535</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">#[</span><span style="color:#82AAFF;">derive</span><span style="color:#A6ACCD;">(Debug)]</span></span>
<span class="line"><span style="color:#A6ACCD;">struct Arguments </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">flag</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">ip_addr</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">threads</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">u16</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">impl Arguments </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">fn</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new(</span><span style="color:#A6ACCD;font-style:italic;">args</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#F07178;">[</span><span style="color:#FFCB6B;">String</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> -&gt; Result</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Arguments</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">static str&gt; {</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">if</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">args</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">len</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">return</span><span style="color:#F07178;"> Err</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">not enough arguments</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">else</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">if</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">args</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">len</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">4</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">return</span><span style="color:#F07178;"> Err</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">too many arguments</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">flag</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">args</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">1</span><span style="color:#F07178;">].</span><span style="color:#FFCB6B;">clone</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;">;</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">println</span><span style="color:#F07178;">!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">flag: {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">flag</span><span style="color:#F07178;">);</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#FFCB6B;">if</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Ok</span><span style="color:#F07178;">(</span><span style="color:#FFCB6B;">ip_addr</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">IpAddr</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">from_str</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#FFCB6B;">flag</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">return</span><span style="color:#F07178;"> Ok</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">Arguments</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;font-style:italic;">flag</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> ip_addr</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;font-style:italic;">ip_addr</span><span style="color:#F07178;">.</span><span style="color:#A6ACCD;font-style:italic;">to_string</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> threads</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">4</span><span style="color:#89DDFF;">});</span></span>
<span class="line"><span style="color:#F07178;">        </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">else</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;font-style:italic;">// let flag = args[1].clone();</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#FFCB6B;">if</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">flag</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">contains</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">flag</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">contains</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-help</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">args</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">len</span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> == </span><span style="color:#F78C6C;">2</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#FFCB6B;">println</span><span style="color:#F07178;">!</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Usage: -j to select how many threads you want</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#FFCB6B;">println</span><span style="color:#F07178;">!</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Usage: -h or -help to show this help message</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#FFCB6B;">return</span><span style="color:#F07178;"> Err</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">help</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">else</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">if</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">flag</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">contains</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">flag</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">contains</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-help</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#FFCB6B;">return</span><span style="color:#F07178;"> Err</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">too many arguments</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F07178;">            </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">else</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">if</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">flag</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">contains</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">-j</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> ip_addr </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">match</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">IpAddr</span><span style="color:#F07178;">::from_str(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">3</span><span style="color:#F07178;">]) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">                    Ok</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">ip</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">ip</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">                    Err</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">_</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">return</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">Err</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">invalid IP address</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#89DDFF;">};</span></span>
<span class="line"><span style="color:#F07178;">                </span><span style="color:#FFCB6B;">let</span><span style="color:#F07178;"> threads </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">match</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">2</span><span style="color:#F07178;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">parse</span><span style="color:#F07178;">::</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">u16</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#F07178;">Ok</span><span style="color:#A6ACCD;">(t) </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> t</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">                    </span><span style="color:#F07178;">Err</span><span style="color:#A6ACCD;">(_) </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> return </span><span style="color:#F07178;">Err</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">invalid thread number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">                return Ok(Arguments </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">flag</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> ip_addr: ip_addr</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">to_string</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> threads</span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            } else </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                return </span><span style="color:#F07178;">Err</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">invalid argument</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        }</span></span>
<span class="line"><span style="color:#A6ACCD;">    }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn main() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    let args: Vec</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> env::</span><span style="color:#F07178;">args</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">collect</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    let program </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> args[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">clone</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    let arguments </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> Arguments::</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">args)</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">unwrap_or_else</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;">err</span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        if err.contains(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">-h</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">)  || err.contains(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">-help</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">) {</span></span>
<span class="line"><span style="color:#F07178;">            print!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> err);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">process</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#F07178;">exit</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> else </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            println!(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#F07178;">{} Problem parsing arguments: {}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> program</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> err);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">process</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#F07178;">exit</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    });</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">println</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{:#?}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> arguments);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    let num_threads </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">threads;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">let</span><span style="color:#A6ACCD;"> (tx</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> rx) </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> std::sync::mpsc::channel::</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">u16</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">    for i in 0..num_threads </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        let tx </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> tx</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">clone</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        let addr </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> arguments</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ip_addr</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">clone</span><span style="color:#A6ACCD;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        thread::</span><span style="color:#F07178;">spawn</span><span style="color:#A6ACCD;">(move </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#F07178;">scan</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">tx</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">i</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">addr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">num_threads</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    let mut out = vec![];</span></span>
<span class="line"><span style="color:#A6ACCD;">    drop(tx);</span></span>
<span class="line"><span style="color:#A6ACCD;">    for p in rx </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        out</span><span style="color:#89DDFF;">.</span><span style="color:#F07178;">push</span><span style="color:#A6ACCD;">(p);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    println!();</span></span>
<span class="line"><span style="color:#A6ACCD;">    out.sort();</span></span>
<span class="line"><span style="color:#A6ACCD;">    for v in out </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">println</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{} is open</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> v);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">fn scan(tx: Sender</span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">u16</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">, start_port: u16, addr: String, num_threads: u16) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    let mut port: u16 </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> start_port </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    loop </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        match </span><span style="color:#F07178;">TcpStream</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">:</span><span style="color:#F07178;">connect</span><span style="color:#A6ACCD;">(</span><span style="color:#F07178;">format</span><span style="color:#89DDFF;">!</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{}:{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> addr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> port)) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">Ok</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">_</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">println</span><span style="color:#A6ACCD;">!</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{}:{}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">addr</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">port</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#F07178;">io</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">stdout</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">.</span><span style="color:#FFCB6B;">flush</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">.</span><span style="color:#FFCB6B;">unwrap</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#FFCB6B;">tx</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">send</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">port</span><span style="color:#A6ACCD;">).</span><span style="color:#FFCB6B;">unwrap</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#F07178;">Err</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">_</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">if</span><span style="color:#A6ACCD;"> (MAX_PORT </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> port) </span><span style="color:#89DDFF;">&lt;=</span><span style="color:#A6ACCD;"> num_threads </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            break;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        port </span><span style="color:#89DDFF;">+=</span><span style="color:#A6ACCD;"> num_threads;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-42804bdd data-v-543d3880><!--[--><!--]--><div class="edit-info" data-v-543d3880><!----><div class="last-updated" data-v-543d3880><p class="VPLastUpdated" data-v-543d3880 data-v-a3e2c698>Last updated: <time datetime="2024-01-02T10:25:14.000Z" data-v-a3e2c698></time></p></div></div><nav class="prev-next" data-v-543d3880><div class="pager" data-v-543d3880><a class="pager-link prev" href="/backend/rust/rust%E8%BF%9B%E9%98%B6" data-v-543d3880><span class="desc" data-v-543d3880>Previous page</span><span class="title" data-v-543d3880>2ã€Rustè¿›é˜¶</span></a></div><div class="pager" data-v-543d3880><a class="pager-link next" href="/backend/rust/%E5%AE%9E%E7%94%A8%E5%B7%A5%E5%85%B7" data-v-543d3880><span class="desc" data-v-543d3880>Next page</span><span class="title" data-v-543d3880>4ã€Rustå®ç”¨å·¥å…·</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-c6746956 data-v-a21eeca5><div class="container" data-v-a21eeca5><p class="message" data-v-a21eeca5>Released under the MIT License.</p><p class="copyright" data-v-a21eeca5>Copyright Â© 2023 MZ, All rights reserved.</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"backend_nodejs_å®ç”¨å°å·¥å…·.md\":\"2b85076d\",\"backend_rust_actix-web.md\":\"c2ff0d35\",\"backend_express_expressç®€ä»‹.md\":\"8254e2ae\",\"ai_å…è´¹å¯ç”¨aiå·¥å…·.md\":\"c51aff5d\",\"f2e_css_1px.md\":\"db2bfcb8\",\"ai_aiæœºå™¨å­¦ä¹ .md\":\"543e1462\",\"backend_rust_tauriæ¡Œé¢ç«¯åº”ç”¨.md\":\"dcedaed6\",\"f2e_html_index.md\":\"375d20b3\",\"backend_rust_rustè¿›é˜¶.md\":\"2ddf93cc\",\"backend_nodejs_nodejsç®€ä»‹.md\":\"e83fb730\",\"backend_rust_webassemblyç®€ä»‹.md\":\"0556757a\",\"backend_nodejs_nodejs_ts.md\":\"e5942a64\",\"tool_efficiency_pnpm-monorepo.md\":\"849329f3\",\"tool_efficiency_pnpmç®€ä»‹.md\":\"a58e0468\",\"tool_site_index.md\":\"3603ffda\",\"tool_vscode_devcontainerå®¹å™¨.md\":\"40ffb0f1\",\"tool_vscode_index.md\":\"e8631bb5\",\"tool_vscode_å¸¸ç”¨æ‰©å±•æ’ä»¶.md\":\"cae565cd\",\"backend_rust_å¸¸ç”¨ä¸‰æ–¹åº“.md\":\"a9503789\",\"backend_rust_å®ç”¨å·¥å…·.md\":\"010d8afa\",\"f2e_vue_nuxt_nuxt3ç®€ä»‹.md\":\"932ffe2a\",\"f2e_vue_nuxtjs_nuxtjsç®€ä»‹.md\":\"f88b99b7\",\"serverless_deploy_replitç®€ä»‹.md\":\"a6f662b2\",\"f2e_css_csså¼€å‘å°æŠ€å·§.md\":\"be4dd777\",\"ai_å…¶ä»–æ•´ç†.md\":\"817e6db6\",\"backend_rust_å¼€å‘æ¡ˆä¾‹.md\":\"1a65ebf2\",\"backend_nodejs_æ­å»ºnpmç§æœ.md\":\"5a4f1764\",\"f2e_css_index.md\":\"1efd123c\",\"f2e_bundle_esbuildæ‰“åŒ….md\":\"680179b2\",\"f2e_bundle_tsupæ‰“åŒ….md\":\"6932f259\",\"f2e_bundle_unbuildæ‰“åŒ….md\":\"67223d20\",\"f2e_bundle_vite-pluginç®€ä»‹.md\":\"c7a07a3c\",\"f2e_css_transitionå’ŒanimationåŠ¨ç”».md\":\"13724ebb\",\"backend_rust_webæ¡†æ¶warp.md\":\"94e213dd\",\"f2e_script_js_xhrç®€ä»‹.md\":\"4b1cc375\",\"f2e_script_js_index.md\":\"ff7dc106\",\"f2e_script_js_å¼€å‘å®ç”¨æŠ€å·§.md\":\"feeb13a9\",\"f2e_script_js_gaspåŠ¨ç”»åº“.md\":\"c374fe64\",\"f2e_script_ts_å¼€å‘å®ç”¨æŠ€å·§.md\":\"b3982153\",\"f2e_script_ts_typescriptè®¢é˜…ç›‘å¬.md\":\"84ac7ca4\",\"phone_oc_å¼€å‘å®ç”¨æŠ€å·§.md\":\"f6750367\",\"f2e_script_ts_index.md\":\"31318e79\",\"phone_swift_index.md\":\"9bcfcad9\",\"backend_rust_å¼€å‘æŠ€å·§åŠæ³¨æ„äº‹é¡¹.md\":\"7fa92228\",\"serverless_deploy_glitchç®€ä»‹.md\":\"8d90a7fa\",\"f2e_bundle_viteç®€ä»‹.md\":\"42bce718\",\"serverless_deploy_herokuç®€ä»‹.md\":\"a89f83b5\",\"f2e_script_ts_typescriptè¿›é˜¶.md\":\"2ab08a0d\",\"serverless_deploy_netlifyç®€ä»‹.md\":\"99f94ff3\",\"serverless_deploy_railwayç®€ä»‹.md\":\"dc2e0101\",\"serverless_deploy_surgeç®€ä»‹.md\":\"e78373b8\",\"serverless_deploy_vercelç®€ä»‹.md\":\"e4b95adb\",\"f2e_bundle_vitestç®€ä»‹.md\":\"0e92b78d\",\"serverless_deploy_zeaburç®€ä»‹.md\":\"0d1dddc5\",\"serverless_deploy_cloudflareç®€ä»‹.md\":\"e3635496\",\"serverless_service_äº‘å‡½æ•°ç®€ä»‹.md\":\"8cd0313f\",\"serverless_service_ä½ä»£ç ç®€ä»‹.md\":\"64b36ec7\",\"serverless_service_äº‘è®¡ç®—ç®€ä»‹.md\":\"5c105eae\",\"serverless_system_dockerç®€ä»‹.md\":\"1a7c559d\",\"serverless_system_linuxç®€ä»‹.md\":\"b482e26e\",\"serverless_system_linuxé…ç½®dockerç¯å¢ƒ.md\":\"bea86d32\",\"f2e_vue_petite-vue_ç®€ä»‹.md\":\"a41bf15b\",\"f2e_html_webcomponentç®€ä»‹.md\":\"823d2fde\",\"f2e_vue_vue2_vue2åŸºç¡€çŸ¥è¯†.md\":\"e55ad622\",\"serverless_system_nginxç®€ä»‹.md\":\"aa9c5bf0\",\"serverless_system_nginxé…ç½®.md\":\"dd538040\",\"f2e_vue_vue2_vue2é«˜çº§çŸ¥è¯†.md\":\"50fd9838\",\"serverless_system_woidenå…è´¹vps.md\":\"31d4cce3\",\"f2e_bundle_vite-plugin-mock.md\":\"c5c1bade\",\"f2e_vue_vue2_è™šæ‹Ÿåˆ—è¡¨.md\":\"005cf769\",\"f2e_vue_vue3_mittäº‹ä»¶å‘å¸ƒç›‘å¬.md\":\"ddadd9dc\",\"f2e_bundle_vite-plugin-mini-i18n.md\":\"e23bf23e\",\"f2e_wechat_index.md\":\"c3d60291\",\"tool_efficiency_httpieç®€ä»‹.md\":\"e20df9d1\",\"f2e_vue_vue3_vite-tsx.md\":\"da423a79\",\"f2e_wechat_taroç®€ä»‹.md\":\"314f53da\",\"index.md\":\"96deaf13\",\"phone_oc_index.md\":\"531b2966\",\"tool_efficiency_nvmç®€ä»‹.md\":\"1a6d9b70\",\"f2e_css_é€‰æ‹©å™¨.md\":\"953a34e5\",\"tool_efficiency_nrmç®€ä»‹.md\":\"0e64ebe6\",\"phone_oc_wkwebview.md\":\"ef3be742\",\"backend_rust_bracket-lib.md\":\"af8d265b\",\"backend_rust_è·¨å¹³å°æ¡†æ¶dioxus.md\":\"a5206c14\",\"backend_express_express_socket.md\":\"e5e8cdca\",\"backend_rust_webæ¡†æ¶axum.md\":\"986e1f59\",\"serverless_deploy_renderç®€ä»‹.md\":\"0c691a3b\",\"phone_oc_simpleping.md\":\"cf9f3d5e\",\"backend_rust_webæ¡†æ¶rocket.md\":\"baa5feac\",\"f2e_vue_vue3_vite.md\":\"0bb2bb83\",\"f2e_vue_vue3_vue3åŸºç¡€çŸ¥è¯†.md\":\"edabf558\",\"f2e_bundle_vite-postcssæ’ä»¶ç®€ä»‹.md\":\"48c62eac\",\"f2e_vue_vue3_vue3_electronç®€ä»‹.md\":\"37753fa5\",\"f2e_vue_vue3_vue3é«˜çº§çŸ¥è¯†.md\":\"82b62272\",\"f2e_vue_vue3_vueuseç®€ä»‹.md\":\"be216d04\",\"f2e_harmonyos_index.md\":\"1aa1878f\",\"backend_rust_rustç®€ä»‹.md\":\"a7a449db\",\"f2e_html_ç®€ä»‹.md\":\"02b7ab31\",\"f2e_css_mediaåª’ä½“æŸ¥è¯¢.md\":\"b34979e7\",\"serverless_index.md\":\"5ba6f2f2\",\"f2e_bundle_rollupæ‰“åŒ….md\":\"50735dc5\",\"f2e_html_canvasç®€ä»‹.md\":\"c5e1f587\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"MZ's æŠ€æœ¯æŒ‡å—\",\"description\":\"MZçš„æŠ€æœ¯æŒ‡å—, è®°å½•å­¦ä¹ åŠæ—¥å¸¸ä½¿ç”¨\",\"base\":\"/\",\"head\":[],\"appearance\":true,\"themeConfig\":{\"siteTitle\":\"MZ's æŠ€æœ¯æŒ‡å—\",\"logo\":\"/logo.png\",\"outline\":\"deep\",\"nav\":[{\"text\":\"é¦–é¡µ\",\"link\":\"/\"},{\"text\":\"AI\",\"activeMatch\":\"/ai/\",\"items\":[{\"text\":\"å…è´¹AIå¹³å°\",\"items\":[{\"text\":\"å…è´¹å¯ç”¨AIå·¥å…·\",\"link\":\"/ai/å…è´¹å¯ç”¨AIå·¥å…·\"}]},{\"text\":\"AIæœºå™¨å­¦ä¹ \",\"items\":[{\"text\":\"AIæœºå™¨å­¦ä¹ \",\"link\":\"/ai/AIæœºå™¨å­¦ä¹ \"}]}]},{\"text\":\"ç§»åŠ¨ç«¯\",\"activeMatch\":\"/phone/\",\"items\":[{\"text\":\"Objective-C/C++\",\"items\":[{\"text\":\"Objective-C\",\"link\":\"/phone/oc/\"}]},{\"text\":\"Swift\",\"items\":[{\"text\":\"Swift\",\"link\":\"/phone/swift/\"}]}]},{\"text\":\"å‰ç«¯\",\"activeMatch\":\"/f2e/\",\"items\":[{\"text\":\"å‰ç«¯åŸºç¡€\",\"items\":[{\"text\":\"HTML/HTML5\",\"link\":\"/f2e/html/\"},{\"text\":\"CSS/CSS3\",\"link\":\"/f2e/css/\"},{\"text\":\"JavaScript/TypeScript\",\"link\":\"/f2e/script/js/\"}]},{\"text\":\"å‰ç«¯æ¡†æ¶\",\"items\":[{\"text\":\"Vue2/Vue3\",\"link\":\"/f2e/vue/vue3/vue3åŸºç¡€çŸ¥è¯†.md\"},{\"text\":\"Nuxt3\",\"link\":\"/f2e/vue/nuxt/nuxt3ç®€ä»‹.md\"},{\"text\":\"React\",\"link\":\"/f2e/react/\"},{\"text\":\"Svelte\",\"link\":\"/f2e/svelte/\"},{\"text\":\"Solid\",\"link\":\"/f2e/solid/\"},{\"text\":\"å¾®ä¿¡å°ç¨‹åº\",\"link\":\"/f2e/wechat/\"},{\"text\":\"é¸¿è’™ç³»ç»Ÿ\",\"link\":\"/f2e/harmonyOS/\"}]},{\"text\":\"æ‰“åŒ…å·¥å…·\",\"items\":[{\"text\":\"unbuild\",\"link\":\"/f2e/bundle/unbuildæ‰“åŒ….md\"},{\"text\":\"tsup\",\"link\":\"/f2e/bundle/tsupæ‰“åŒ….md\"},{\"text\":\"Vite\",\"link\":\"/f2e/bundle/viteç®€ä»‹.md\"}]}]},{\"text\":\"åç«¯\",\"activeMatch\":\"/backend/\",\"items\":[{\"text\":\"NodeJS\",\"items\":[{\"text\":\"NodeJS\",\"link\":\"/backend/nodejs/nodejsç®€ä»‹.md\"},{\"text\":\"Express\",\"link\":\"/backend/express/expressç®€ä»‹.md\"}]},{\"text\":\"Python\",\"items\":[{\"text\":\"Python2/Python3\",\"link\":\"https://gitee.com/geeksdidi\"}]},{\"text\":\"Golang\",\"items\":[{\"text\":\"Gitee\",\"link\":\"https://gitee.com/geeksdidi\"}]},{\"text\":\"Rust\",\"items\":[{\"text\":\"Rust\",\"link\":\"/backend/rust/rustç®€ä»‹.md\"}]}]},{\"text\":\"äº‘æœåŠ¡\",\"activeMatch\":\"/serverless/\",\"items\":[{\"text\":\"äº‘è®¡ç®—\",\"items\":[{\"text\":\"äº‘è®¡ç®—ç®€ä»‹\",\"link\":\"/serverless/service/äº‘è®¡ç®—ç®€ä»‹\"},{\"text\":\"å…¶ä»–\",\"link\":\"/serverless/service/äº‘å‡½æ•°ç®€ä»‹\"}]},{\"text\":\"äº‘éƒ¨ç½²\",\"items\":[{\"text\":\"Vercel\",\"link\":\"/serverless/deploy/Vercelç®€ä»‹\"},{\"text\":\"Cloudflare\",\"link\":\"/serverless/deploy/cloudflareç®€ä»‹\"},{\"text\":\"å…¶ä»–\",\"link\":\"/serverless/deploy/Replitç®€ä»‹\"}]},{\"text\":\"æ“ä½œç³»ç»Ÿ|æœåŠ¡å™¨|å®¹å™¨\",\"items\":[{\"text\":\"Linux\",\"link\":\"/serverless/system/linuxç®€ä»‹\"},{\"text\":\"Nginx\",\"link\":\"/serverless/system/nginxç®€ä»‹\"}]}]},{\"text\":\"è½¯ä»¶å·¥å…·\",\"activeMatch\":\"/tool/\",\"items\":[{\"text\":\"ç½‘ç«™å¯¼èˆª\",\"items\":[{\"text\":\"ç½‘ç«™å¯¼èˆª\",\"link\":\"/tool/site/\"}]},{\"text\":\"ç¼–ç¨‹è½¯ä»¶\",\"items\":[{\"text\":\"VSCode\",\"link\":\"/tool/vscode/\"}]},{\"text\":\"æ•ˆç‡æå‡\",\"items\":[{\"text\":\"pnpm\",\"link\":\"/tool/efficiency/pnpç®€ä»‹.md\"},{\"text\":\"nvm\",\"link\":\"/tool/efficiency/nvmç®€ä»‹.md\"},{\"text\":\"nrm\",\"link\":\"/tool/efficiency/nrmç®€ä»‹.md\"}]}]}],\"sidebar\":{\"/ai/\":[{\"text\":\"AIå·¥å…·\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€å…è´¹å¯ç”¨AIå·¥å…·æ•´ç†\",\"link\":\"/ai/å…è´¹å¯ç”¨AIå·¥å…·.md\"},{\"text\":\"2ã€å…¶ä»–AIæ•´ç†\",\"link\":\"/ai/å…¶ä»–æ•´ç†.md\"}]},{\"text\":\"AIæœºå™¨å­¦ä¹ \",\"collapsed\":false,\"items\":[{\"text\":\"1ã€AIæœºå™¨å­¦ä¹ \",\"link\":\"/ai/AIæœºå™¨å­¦ä¹ .md\"}]}],\"/phone/\":[{\"text\":\"ç§»åŠ¨ç«¯/Objective-C\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Objective-C/C++ç®€ä»‹\",\"link\":\"/phone/oc/\"},{\"text\":\"2ã€WKWebViewç®€ä»‹\",\"link\":\"/phone/oc/wkwebview.md\"},{\"text\":\"3ã€å¼€å‘å®ç”¨æŠ€å·§\",\"link\":\"/phone/oc/å¼€å‘å®ç”¨æŠ€å·§.md\"},{\"text\":\"4ã€SimplePing\",\"link\":\"/phone/oc/simpleping.md\"}]},{\"text\":\"ç§»åŠ¨ç«¯/Swift\",\"collapsed\":false,\"items\":[{\"text\":\"Swift\",\"link\":\"/phone/swift/\"}]}],\"/serverless/service/\":[{\"text\":\"äº‘è®¡ç®—\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€äº‘è®¡ç®—ç®€ä»‹\",\"link\":\"/serverless/service/äº‘è®¡ç®—ç®€ä»‹.md\"},{\"text\":\"2ã€ä½ä»£ç ç®€ä»‹\",\"link\":\"/serverless/service/ä½ä»£ç ç®€ä»‹.md\"}]},{\"text\":\"äº‘å‡½æ•°\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€äº‘å‡½æ•°ç®€ä»‹\",\"link\":\"/serverless/service/äº‘å‡½æ•°ç®€ä»‹.md\"}]}],\"/serverless/system/\":[{\"text\":\"æ“ä½œç³»ç»Ÿ\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Linuxç®€ä»‹\",\"link\":\"/serverless/system/linuxç®€ä»‹.md\"},{\"text\":\"2ã€Linuxé…ç½®Dockerç¯å¢ƒ\",\"link\":\"/serverless/system/linuxé…ç½®dockerç¯å¢ƒ.md\"}]},{\"text\":\"æœåŠ¡å™¨\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Nginxç®€ä»‹\",\"link\":\"/serverless/system/nginxç®€ä»‹.md\"},{\"text\":\"2ã€Nginxé…ç½®.md\",\"link\":\"/serverless/system/nginxé…ç½®.md\"},{\"text\":\"3ã€Woidenå…è´¹VPSæœåŠ¡å™¨\",\"link\":\"/serverless/system/woidenå…è´¹vps.md\"}]},{\"text\":\"Docker\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Dockerç®€ä»‹\",\"link\":\"/serverless/system/dockerç®€ä»‹.md\"}]}],\"/serverless/deploy/\":[{\"text\":\"ä¸‰æ–¹éƒ¨ç½²å¹³å°\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Vercelç®€ä»‹\",\"link\":\"/serverless/deploy/Vercelç®€ä»‹.md\"},{\"text\":\"2ã€Netlifyç®€ä»‹\",\"link\":\"/serverless/deploy/Netlifyç®€ä»‹.md\"},{\"text\":\"3ã€Replitç®€ä»‹\",\"link\":\"/serverless/deploy/Replitç®€ä»‹.md\"},{\"text\":\"4ã€Surgeç®€ä»‹\",\"link\":\"/serverless/deploy/Surgeç®€ä»‹.md\"},{\"text\":\"5ã€Glitchç®€ä»‹\",\"link\":\"/serverless/deploy/Glitchç®€ä»‹.md\"},{\"text\":\"6ã€Zeaburç®€ä»‹\",\"link\":\"/serverless/deploy/Zeaburç®€ä»‹.md\"},{\"text\":\"7ã€Renderç®€ä»‹\",\"link\":\"/serverless/deploy/Renderç®€ä»‹.md\"},{\"text\":\"8ã€Railwayç®€ä»‹\",\"link\":\"/serverless/deploy/Railwayç®€ä»‹.md\"},{\"text\":\"9ã€Herokuç®€ä»‹\",\"link\":\"/serverless/deploy/Herokuç®€ä»‹.md\"}]},{\"text\":\"CDN & DNS\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Cloudflareç®€ä»‹\",\"link\":\"/serverless/deploy/cloudflareç®€ä»‹.md\"}]}],\"/f2e/html/\":[{\"text\":\"HTML/HTML5\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€HTML/HTML5ç®€ä»‹\",\"link\":\"/f2e/html/index.md\"},{\"text\":\"2ã€Canvasç®€ä»‹\",\"link\":\"/f2e/html/canvasç®€ä»‹.md\"},{\"text\":\"3ã€WebComponentç®€ä»‹\",\"link\":\"/f2e/html/webComponentç®€ä»‹.md\"}]}],\"/f2e/vue/\":[{\"text\":\"Vue3\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Vue3åŸºç¡€çŸ¥è¯†\",\"link\":\"/f2e/vue/vue3/vue3åŸºç¡€çŸ¥è¯†.md\"},{\"text\":\"2ã€Vue3é«˜çº§çŸ¥è¯†\",\"link\":\"/f2e/vue/vue3/vue3é«˜çº§çŸ¥è¯†.md\"},{\"text\":\"3ã€Vue3+Vite\",\"link\":\"/f2e/vue/vue3/vite.md\"},{\"text\":\"4ã€Vue3+Vite+TSX\",\"link\":\"/f2e/vue/vue3/vite-tsx.md\"},{\"text\":\"5ã€Mittäº‹ä»¶å‘å¸ƒç›‘å¬\",\"link\":\"/f2e/vue/vue3/mittäº‹ä»¶å‘å¸ƒç›‘å¬.md\"},{\"text\":\"6ã€VueUseç®€ä»‹\",\"link\":\"/f2e/vue/vue3/vueUseç®€ä»‹.md\"},{\"text\":\"7ã€Vue3+Electronç®€ä»‹\",\"link\":\"/f2e/vue/vue3/vue3+electronç®€ä»‹.md\"}]},{\"text\":\"Vue2\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Vue2åŸºç¡€çŸ¥è¯†\",\"link\":\"/f2e/vue/vue2/vue2åŸºç¡€çŸ¥è¯†.md\"},{\"text\":\"2ã€Vue2é«˜çº§çŸ¥è¯†\",\"link\":\"/f2e/vue/vue2/vue2é«˜çº§çŸ¥è¯†.md\"},{\"text\":\"3ã€è™šæ‹Ÿåˆ—è¡¨\",\"link\":\"/f2e/vue/vue2/è™šæ‹Ÿåˆ—è¡¨.md\"}]},{\"text\":\"Petite-Vue\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Petite-Vueç®€ä»‹\",\"link\":\"/f2e/vue/petite-vue/ç®€ä»‹.md\"}]},{\"text\":\"Nuxt3\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Nuxtç®€ä»‹\",\"link\":\"/f2e/vue/nuxt/nuxt3ç®€ä»‹.md\"}]},{\"text\":\"Nuxt.JS\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€NuxtJSç®€ä»‹\",\"link\":\"/f2e/vue/nuxtjs/nuxtjsç®€ä»‹.md\"}]}],\"/f2e/bundle\":[{\"text\":\"æ‰“åŒ…å·¥å…·\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€unbuild\",\"link\":\"/f2e/bundle/unbuildæ‰“åŒ….md\"},{\"text\":\"2ã€tsup\",\"link\":\"/f2e/bundle/tsupæ‰“åŒ….md\"},{\"text\":\"3ã€rollup\",\"link\":\"/f2e/bundle/rollupæ‰“åŒ….md\"},{\"text\":\"4ã€esbuild\",\"link\":\"/f2e/bundle/esbuildæ‰“åŒ….md\"}]},{\"text\":\"Vite\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Viteç®€ä»‹\",\"link\":\"/f2e/bundle/viteç®€ä»‹.md\"},{\"text\":\"2ã€Vite Pluginç®€ä»‹\",\"link\":\"/f2e/bundle/vite-pluginç®€ä»‹.md\"},{\"text\":\"3ã€Vite-Plugin-Mockç®€ä»‹\",\"link\":\"/f2e/bundle/vite-plugin-mock.md\"},{\"text\":\"4ã€Vite-Plugin-Mini-I18nç®€ä»‹\",\"link\":\"/f2e/bundle/vite-plugin-mini-i18n.md\"}]},{\"text\":\"Vitestæµ‹è¯•æ¡†æ¶\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Vitestç®€ä»‹\",\"link\":\"/f2e/bundle/vitestç®€ä»‹.md\"}]}],\"/f2e/css/\":[{\"text\":\"CSS/CSS3æ ¸å¿ƒå†…å®¹\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€CSS/CSS3ç®€ä»‹\",\"link\":\"/f2e/css/index.md\"},{\"text\":\"2ã€é€‰æ‹©å™¨\",\"link\":\"/f2e/css/é€‰æ‹©å™¨.md\"},{\"text\":\"3ã€transitionå’ŒanimationåŠ¨ç”»\",\"link\":\"/f2e/css/transitionå’ŒanimationåŠ¨ç”».md\"},{\"text\":\"4ã€mediaåª’ä½“æŸ¥è¯¢\",\"link\":\"/f2e/css/mediaåª’ä½“æŸ¥è¯¢.md\"}]},{\"text\":\"CSS/CSS3æ¡ˆä¾‹\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€ä¸åŒè®¾å¤‡å±•ç¤º1px\",\"link\":\"/f2e/css/1px.md\"},{\"text\":\"2ã€csså¼€å‘å°æŠ€å·§\",\"link\":\"/f2e/css/csså¼€å‘å°æŠ€å·§.md\"}]}],\"/f2e/script/\":[{\"text\":\"JavaScript\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€JavaScriptç®€ä»‹\",\"link\":\"/f2e/script/js/index.md\"},{\"text\":\"2ã€XHRç®€ä»‹\",\"link\":\"/f2e/script/js/xhrç®€ä»‹.md\"},{\"text\":\"3ã€å¼€å‘å®ç”¨æŠ€å·§\",\"link\":\"/f2e/script/js/å¼€å‘å®ç”¨æŠ€å·§.md\"},{\"text\":\"4ã€gaspåŠ¨ç”»åº“\",\"link\":\"/f2e/script/js/gaspåŠ¨ç”»åº“.md\"}]},{\"text\":\"TypeScript\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€TypeScriptç®€ä»‹\",\"link\":\"/f2e/script/ts/index.md\"},{\"text\":\"2ã€Typescriptè®¢é˜…ç›‘å¬\",\"link\":\"/f2e/script/ts/typescriptè®¢é˜…ç›‘å¬.md\"},{\"text\":\"3ã€Typescriptè¿›é˜¶\",\"link\":\"/f2e/script/ts/typescriptè¿›é˜¶.md\"},{\"text\":\"4ã€Typescriptå®ç”¨å¼€å‘æŠ€å·§\",\"link\":\"/f2e/script/ts/å¼€å‘å®ç”¨æŠ€å·§.md\"}]}],\"/f2e/wechat/\":[{\"text\":\"å¾®ä¿¡å°ç¨‹åº\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€å¾®ä¿¡å°ç¨‹åºç®€ä»‹\",\"link\":\"/f2e/wechat/index.md\"}]},{\"text\":\"Taro\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Taroç®€ä»‹\",\"link\":\"/f2e/wechat/taroç®€ä»‹.md\"}]}],\"/f2e/harmonyOS/\":[{\"text\":\"HarmonyOS\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€é¸¿è’™OSåŸºç¡€\",\"link\":\"/f2e/harmonyOS/index.md\"}]}],\"/tool/vscode/\":[{\"text\":\"VSCode\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€VSCodeç®€ä»‹\",\"link\":\"/tool/vscode/index.md\"},{\"text\":\"2ã€å¸¸ç”¨æ‰©å±•æ’ä»¶\",\"link\":\"/tool/vscode/å¸¸ç”¨æ‰©å±•æ’ä»¶.md\"},{\"text\":\"3ã€devContainerå®¹å™¨\",\"link\":\"/tool/vscode/devContainerå®¹å™¨.md\"}]}],\"/tool/efficiency/\":[{\"text\":\"ç»ˆç«¯å·¥å…·\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€pnpmç®€ä»‹\",\"link\":\"/tool/efficiency/pnpmç®€ä»‹.md\"},{\"text\":\"2ã€pnpm monorepo\",\"link\":\"/tool/efficiency/pnpm-monorepo.md\"},{\"text\":\"3ã€nvmç®€ä»‹\",\"link\":\"/tool/efficiency/nvmç®€ä»‹.md\"},{\"text\":\"4ã€nrmç®€ä»‹\",\"link\":\"/tool/efficiency/nrmç®€ä»‹.md\"}]}],\"/backend/nodejs/\":[{\"text\":\"NodeJS\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€NodeJSç®€ä»‹\",\"link\":\"/backend/nodejs/nodejsç®€ä»‹.md\"},{\"text\":\"2ã€Node + TSç®€ä»‹\",\"link\":\"/backend/nodejs/nodejs+ts.md\"},{\"text\":\"3ã€æ­å»ºnpmç§æœ\",\"link\":\"/backend/nodejs/æ­å»ºnpmç§æœ.md\"},{\"text\":\"4ã€å®ç”¨å°å·¥å…·\",\"link\":\"/backend/nodejs/å®ç”¨å°å·¥å…·.md\"}]}],\"/backend/express/\":[{\"text\":\"Express\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Expressç®€ä»‹\",\"link\":\"/backend/express/expressç®€ä»‹.md\"},{\"text\":\"2ã€Express+Socket\",\"link\":\"/backend/express/express+socket.md\"}]}],\"/backend/rust/\":[{\"text\":\"Rust\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Rustç®€ä»‹\",\"link\":\"/backend/rust/rustç®€ä»‹.md\"},{\"text\":\"2ã€Rustè¿›é˜¶\",\"link\":\"/backend/rust/rustè¿›é˜¶.md\"},{\"text\":\"3ã€Rustå¼€å‘æ¡ˆä¾‹\",\"link\":\"/backend/rust/å¼€å‘æ¡ˆä¾‹.md\"},{\"text\":\"4ã€Rustå®ç”¨å·¥å…·\",\"link\":\"/backend/rust/å®ç”¨å·¥å…·.md\"},{\"text\":\"5ã€å¸¸ç”¨ä¸‰æ–¹åº“\",\"link\":\"/backend/rust/å¸¸ç”¨ä¸‰æ–¹åº“.md\"},{\"text\":\"6ã€å¼€å‘æŠ€å·§åŠæ³¨æ„äº‹é¡¹\",\"link\":\"/backend/rust/å¼€å‘æŠ€å·§åŠæ³¨æ„äº‹é¡¹.md\"}]},{\"text\":\"Rustæ¡†æ¶\",\"collapsed\":false,\"items\":[{\"text\":\"1ã€Tauriæ¡Œé¢ç«¯åº”ç”¨\",\"link\":\"/backend/rust/tauriæ¡Œé¢ç«¯åº”ç”¨.md\"},{\"text\":\"2ã€webæ¡†æ¶actix-web\",\"link\":\"/backend/rust/actix-web.md\"},{\"text\":\"3ã€webæ¡†æ¶rocket\",\"link\":\"/backend/rust/webæ¡†æ¶rocket.md\"},{\"text\":\"4ã€webæ¡†æ¶warp\",\"link\":\"/backend/rust/webæ¡†æ¶warp.md\"},{\"text\":\"5ã€webæ¡†æ¶axum\",\"link\":\"/backend/rust/webæ¡†æ¶axum.md\"},{\"text\":\"6ã€è·¨å¹³å°æ¡†æ¶Dioxus\",\"link\":\"/backend/rust/è·¨å¹³å°æ¡†æ¶Dioxus.md\"},{\"text\":\"7ã€æ¸¸æˆæ¡†æ¶bracket-lib\",\"link\":\"/backend/rust/bracket-lib.md\"},{\"text\":\"8ã€wasmæ¡†æ¶\",\"link\":\"/backend/rust/webAssemblyç®€ä»‹.md\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/misterZhouZhou\"}],\"footer\":{\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright Â© 2023 MZ, All rights reserved.\"},\"search\":{\"provider\":\"local\"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":true}");</script>
    
  </body>
</html>